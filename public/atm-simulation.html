<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FinSakhi ATM Simulation - Multi-Language</title>
<style>
body {
  font-family: Arial;
  background: #1e1e1e;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  flex-direction: column;
}

.language-select {
  margin-bottom: 20px;
  padding: 10px;
  font-size: 16px;
}

.atm {
  background: #2b2b2b;
  width: 360px;
  padding: 20px;
  border-radius: 15px;
  box-shadow: 0 0 25px black;
  color: #00ff99;
  text-align: center;
}

.screen {
  background: black;
  color: #00ff99;
  padding: 20px;
  height: 100px;
  border-radius: 8px;
  font-size: 18px;
  margin-bottom: 15px;
  white-space: pre-line;
}

.keypad {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}

button {
  padding: 18px;
  font-size: 18px;
  border: none;
  border-radius: 8px;
  background: #444;
  color: white;
  cursor: pointer;
}

button:hover {
  background: #00ff99;
  color: black;
}

.action {
  grid-column: span 3;
  background: #ff9800;
}
</style>
</head>
<body>

<select id="language" class="language-select">
  <option value="ta-IN">родрооро┐ро┤рпН</option>
  <option value="en-US">English</option>
  <option value="hi-IN">рд╣рд┐рдиреНрджреА</option>
</select>

<div class="atm">
  <div class="screen" id="screen">Insert your ATM card</div>
  <div class="keypad" id="keypad">
    <button class="action" onclick="askPIN()">Insert Card</button>
  </div>
</div>

<script>
let pin = "";
let lang = "ta-IN"; // default Tamil
const screen = document.getElementById("screen");
const keypad = document.getElementById("keypad");
const languageSelect = document.getElementById("language");

languageSelect.addEventListener("change", () => {
  lang = languageSelect.value;
  restart();
});

// Function to speak
function speak(text) {
  const utter = new SpeechSynthesisUtterance(text);
  utter.lang = lang;
  window.speechSynthesis.speak(utter);
}

// Screen messages in multiple languages
const messages = {
  insertCard: {
    "ta-IN": "роЙроЩрпНроХро│рпН ATM роХро╛ро░рпНроЯрпИ роЗроЯрпБроХ",
    "en-US": "Insert your ATM card",
    "hi-IN": "рдЕрдкрдирд╛ рдПрдЯреАрдПрдо рдХрд╛рд░реНрдб рдбрд╛рд▓реЗрдВ"
  },
  enterPIN: {
    "ta-IN": "роЙроЩрпНроХро│рпН 4-роЕроЩрпНроХ PIN роР рокродро┐ро╡рпБ роЪрпЖропрпНропро╡рпБроорпН:",
    "en-US": "Enter your 4-digit PIN:",
    "hi-IN": "рдЕрдкрдирд╛ 4 рдЕрдВрдХреЛрдВ рдХрд╛ PIN рджрд░реНрдЬ рдХрд░реЗрдВ:"
  },
  pinAccepted: {
    "ta-IN": "PIN роПро▒рпНро▒рпБроХрпНроХрпКро│рпНро│рокрпНрокроЯрпНроЯродрпБ. рокрог рокро░ро┐ро╡ро░рпНродрпНродройрпИ родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН:",
    "en-US": "PIN accepted. Select Transaction:",
    "hi-IN": "PIN рд╕реНрд╡реАрдХрд╛рд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ред рд▓реЗрди-рджреЗрди рдЪреБрдиреЗрдВ:"
  },
  balance: {
    "ta-IN": "роЙроЩрпНроХро│рпН роЗро░рпБрокрпНрокрпБ: тВ╣5,000\n\nроЙроЩрпНроХро│рпН роХро╛ро░рпНроЯрпИ роОроЯрпБродрпНродрпБроХрпНроХрпКро│рпНро│ро╡рпБроорпН.",
    "en-US": "Your balance is тВ╣5,000\n\nPlease remove your card.",
    "hi-IN": "рдЖрдкрдХрд╛ рдмреИрд▓реЗрдВрд╕: тВ╣5,000\n\nрдХреГрдкрдпрд╛ рдЕрдкрдирд╛ рдХрд╛рд░реНрдб рдирд┐рдХрд╛рд▓реЗрдВред"
  },
  selectAmount: {
    "ta-IN": "роОроЯрпБроХрпНроХрпБроорпН родрпКроХрпИропрпИ родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН:",
    "en-US": "Select amount to withdraw:",
    "hi-IN": "рдирд┐рдХрд╛рд╕реА рдХреЗ рд▓рд┐рдП рд░рд╛рд╢рд┐ рдЪреБрдиреЗрдВ:"
  },
  cashDispense: {
    "ta-IN": amount => `родропро╡рпБроЪрпЖропрпНродрпБ рокрогродрпНродрпИ роОроЯрпБродрпНродрпБроХрпНроХрпКро│рпНро│ро╡рпБроорпН: тВ╣${amount}\n\nроЙроЩрпНроХро│рпН роХро╛ро░рпНроЯрпИ роОроЯрпБродрпНродрпБроХрпНроХрпКро│рпНро│ро╡рпБроорпН.`,
    "en-US": amount => `Please collect your cash: тВ╣${amount}\n\nRemove your card.`,
    "hi-IN": amount => `рдХреГрдкрдпрд╛ рдЕрдкрдирд╛ рдирдХрдж рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ: тВ╣${amount}\n\nрдЕрдкрдирд╛ рдХрд╛рд░реНрдб рдирд┐рдХрд╛рд▓реЗрдВред`
  },
  thankYou: {
    "ta-IN": "FinSakhi ATM роР рокропройрпНрокроЯрпБродрпНродро┐ропродро▒рпНроХрпБ роиройрпНро▒ро┐!",
    "en-US": "Thank you for using FinSakhi ATM!",
    "hi-IN": "FinSakhi ATM рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж!"
  },
  clear: {
    "ta-IN": "роЪро░ро┐ роЪрпЖропрпНроп",
    "en-US": "Clear",
    "hi-IN": "рд╕рд╛рдлрд╝ рдХрд░реЗрдВ"
  },
  enter: {
    "ta-IN": "роЙро│рпНро│ро┐роЯрпБроХ",
    "en-US": "Enter",
    "hi-IN": "рджрд░реНрдЬ рдХрд░реЗрдВ"
  },
  finish: {
    "ta-IN": "роорпБроЯро┐родрпНродрпБ ро╡ро┐роЯрпБ",
    "en-US": "Finish",
    "hi-IN": "рд╕рдорд╛рдкреНрдд рдХрд░реЗрдВ"
  }
};

// Step 1: Ask PIN
function askPIN() {
  const msg = messages.enterPIN[lang];
  screen.innerText = msg;
  speak(msg);
  pin = "";
  showPINPad();
}

// Step 2: PIN keypad
function showPINPad() {
  keypad.innerHTML = "";
  for (let i = 1; i <= 9; i++) {
    let btn = document.createElement("button");
    btn.innerText = i;
    btn.onclick = () => enterPIN(i);
    keypad.appendChild(btn);
  }
  let zeroBtn = document.createElement("button");
  zeroBtn.innerText = 0;
  zeroBtn.onclick = () => enterPIN(0);
  keypad.appendChild(zeroBtn);

  let clearBtn = document.createElement("button");
  clearBtn.innerText = messages.clear[lang];
  clearBtn.className = "action";
  clearBtn.onclick = clearPIN;
  keypad.appendChild(clearBtn);

  let enterBtn = document.createElement("button");
  enterBtn.innerText = messages.enter[lang];
  enterBtn.className = "action";
  enterBtn.onclick = confirmPIN;
  keypad.appendChild(enterBtn);
}

// Enter PIN
function enterPIN(num) {
  if (pin.length < 4) {
    pin += num;
    screen.innerText = messages.enterPIN[lang] + "\n" + "*".repeat(pin.length);
  }
}

// Clear PIN
function clearPIN() {
  pin = "";
  screen.innerText = messages.enterPIN[lang];
  speak(messages.enterPIN[lang]);
}

// Confirm PIN
function confirmPIN() {
  const msg = messages.pinAccepted[lang];
  screen.innerText = msg;
  speak(msg);
  keypad.innerHTML = `
    <button onclick="showBalance()">ЁЯТ░ Balance</button>
    <button onclick="withdraw()">ЁЯТ╕ Withdraw</button>
  `;
}

// Show balance
function showBalance() {
  const msg = messages.balance[lang];
  screen.innerText = msg;
  speak(msg);
  keypad.innerHTML = `<button class="action" onclick="thankYou()">${messages.finish[lang]}</button>`;
}

// Withdraw
function withdraw() {
  const msg = messages.selectAmount[lang];
  screen.innerText = msg;
  speak(msg);
  keypad.innerHTML = `
    <button onclick="cashDispense(500)">тВ╣500</button>
    <button onclick="cashDispense(1000)">тВ╣1000</button>
    <button onclick="cashDispense(2000)">тВ╣2000</button>
  `;
}

function cashDispense(amount) {
  const msg = messages.cashDispense[lang](amount);
  screen.innerText = msg;
  speak(msg);
  keypad.innerHTML = `<button class="action" onclick="thankYou()">${messages.finish[lang]}</button>`;
}

// Thank you
function thankYou() {
  const msg = messages.thankYou[lang];
  screen.innerText = msg;
  speak(msg);
  keypad.innerHTML = `<button class="action" onclick="restart()">${messages.finish[lang]}</button>`;
}

// Restart
function restart() {
  pin = "";
  const msg = messages.insertCard[lang];
  screen.innerText = msg;
  speak(msg);
  keypad.innerHTML = `<button class="action" onclick="askPIN()">Insert Card</button>`;
}
</script>

</body>
</html>
